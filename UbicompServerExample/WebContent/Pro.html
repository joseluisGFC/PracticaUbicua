<!DOCTYPE html>
<html>
<head>
	<meta charset="ISO-8859-1">
	<script src="./js/libs/jquery/jquery.min.js"></script>  
	<title>Server example</title>
	<style>
		table {
		  font-family: arial, sans-serif;
		  border-collapse: collapse;
		  width: 100%;
		}
		
		td, th {
		  border: 1px solid #dddddd;
		  text-align: left;
		  padding: 8px;
		}
		
		tr:nth-child(even) {
		  background-color: #dddddd;
		}
	</style>
</head>
<body>
	<script>
         $(document).ready(function() 
    	 {        	 
    		boton=document.getElementById("buscar");
    		boton2=document.getElementById("mostrar");
    		boton.addEventListener("click",tomar,false);
         });
         
         function tomar(){
        	 id_contenedor = document.getElementById("id_c").value;
        	 mostrar();
         }
         
 		function mostrar()
        {
 	       	 $.ajax(
 	      		 {
 	      			data:  {id_contenedor:id_contenedor},
 	      			url:   "GetMedidasFromContenedor",//el serverlet que te da la info
 	      			type:  'post',
 	      			async: false,
 	      			success:  function (response) 
 	      			{	
 	      				var resp = JSON.parse(response);
 	      				console.log(resp);
 	      				$("#dataTable").empty();
 	      				var newRow = "";
 	      				$.each(resp, function (i, value) 
 						{
 	          				newRow += "<tr>";
 	          				newRow += "<td>" + value.dateMeasurement + "</td>"; 
 	          				newRow += "<td>" + value.value + "</td>";  
 	          				newRow += "<td>" + value.id_contenedor + "</td>"; 
 	          				newRow += "<td>" + value.id_sensor + "</td>"; 
 	          				newRow += "</tr>";	
 	  					});  
 	      				$("#dataTable").append(newRow);
 	      			}
 	      		});
 	        }
         
         
	</script>
	<h1>SERVER EXAMPLE</h1>
	<br>
	
	<div id="menu">
		<nav class="menucss">
			<a href="index.html">Main</a>
			<a href="Map.html">Map</a>
			<a href="Alertas.html">Alertas</a>
			<a href="indexBBDD.html">Base de datos</a>
			<a href="Ruta.html">Ruta</a>
		</nav>
	</div>
	
	<div id="contenedor">
		<section id="cajabuscador">
			<form name="buscador" autocomplete="off">
				<p>Contenedor:<br><input type="text" id="id_c" name="id_c"></p>
				<p><input type="button" name="buscar" id="buscar" value="Buscar"></p>
			</form>
		</section>
	</div>	
	
	<table class="table">
		<thead>
		    <tr>
		      <th scope="col">fecha</th>
		      <th scope="col">valor</th>
		      <th scope="col">id_contenedor</th>
		      <th scope="col">id_sensor</th>
		    </tr>
		</thead>
		<tbody id="dataTable">
		</tbody>
	</table>	
	
</body>
</html>